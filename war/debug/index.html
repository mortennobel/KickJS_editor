<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
    <script type="text/javascript" src="/js/kickjs_editor_server.js"></script>
</head>
<body>
<h1>Login test</h1>
<script type="text/javascript">
    KICKED.login(function(resp){
        var strVersion = "<br><pre>"+JSON.stringify(resp,null,3)+"</pre>"
        if (resp.loginURL){
            document.getElementById('Message').innerHTML = '<a href="'+resp.loginURL+'">Login</a>'+strVersion;
        } else {
            document.getElementById('Message').innerHTML = '<a href="'+resp.logoutURL+'">Logout</a>'+strVersion;
        }
    },function(errorMsg){
        document.getElementById('Message').innerHTML = JSON.stringify(errorMsg,null,3);
    })
</script>
<div id="Message"></div>
<h1>Project test</h1>
<script type="text/javascript">
    KICKED.login(function(resp){
        var strVersion = "<br><pre>"+JSON.stringify(resp,null,3)+"</pre>"
        if (resp.loginURL){
            document.getElementById('Message').innerHTML = '<a href="'+resp.loginURL+'">Login</a>'+strVersion;
        } else {
            document.getElementById('Message').innerHTML = '<a href="'+resp.logoutURL+'">Logout</a>'+strVersion;
        }
    },function(errorMsg){
        document.getElementById('Message').innerHTML = JSON.stringify(errorMsg,null,3);
    })
</script>
<script type="text/javascript">
    var projectFn = function(resp){
        document.getElementById('ProjectMessage').innerHTML = JSON.stringify(resp,null,3);
    };
    var errorFn = projectFn;
    
</script>
<input type=text id="name" value=""><br>
<button onclick="KICKED.project.list(projectFn,errorFn)">projectList</button>
<button onclick="KICKED.project.create(document.getElementById('name').value, projectFn,errorFn)">projectCreate</button>
<button onclick="KICKED.project.delete(document.getElementById('name').value, projectFn,errorFn)">projectDelete</button>
<button onclick="KICKED.project.isNameValid(document.getElementById('name').value, projectFn,errorFn)">projectIsNameValid</button>
<button onclick="KICKED.project.load(document.getElementById('name').value, projectFn,errorFn)">load</button>
<div id="ProjectMessage"></div>

<h1>Resource test</h1>
<script type="text/javascript">
    function resourceFn(resp){
        document.getElementById('ResourceMessage').innerHTML = JSON.stringify(resp,null,3);
    }
    function initUploadFn(resp){
        resourceFn(resp);
        if (resp.response && resp.response.uploadUrl){
            var projectName = document.getElementById('projectName').value;
            var uid = parseInt(document.getElementById('uid').value);
            var url = resp.response.uploadUrl;
            document.getElementById('resourceForm').action = url;
        }
    }
    function initResource(){
        var projectName = document.getElementById('projectName').value;
        var uid = parseInt(document.getElementById('uid').value);
        var contentType = document.getElementById('contentType').value;
        var contentName = document.getElementById('contentName').value;
        KICKED.resource.init(projectName, uid, contentType,contentName,initUploadFn,errorFn)
    }
    function updateResource(){
        var projectName = document.getElementById('projectName').value;
        var uid = parseInt(document.getElementById('uid').value);
        var contentType = document.getElementById('contentType').value;
        var contentName = document.getElementById('contentName').value;
        KICKED.resource.update(projectName, uid, contentType,contentName,initUploadFn,errorFn)
    }
    function deleteResource(){
        var projectName = document.getElementById('projectName').value;
        var uid = parseInt(document.getElementById('uid').value);
        KICKED.resource.delete(projectName, uid, resourceFn,errorFn)
    }
    function listResources(){
        var projectName = document.getElementById('projectName').value;
        var uid = parseInt(document.getElementById('uid').value);
        KICKED.resource.list(projectName, resourceFn,errorFn)
    }
    function loadResource(){
        var projectName = document.getElementById('projectName').value;
        var uid = parseInt(document.getElementById('uid').value);
        var resourceMessage = document.getElementById('ResourceMessage');
        var url = '/project/'+projectName+"/"+uid;
        resourceMessage.innerHTML = '<img src="'+url+'">';
    }
</script>
Projectname <input id="projectName"><br>
uid <input id="uid"><br>
contentType <input id="contentType"><br>
contentName <input id="contentName"><br>
<form id="resourceForm" method="post" enctype="multipart/form-data">
    <input name="uploadFile" type="file">
    <input type="submit">
</form>
<button onclick="initResource();">init</button>
<button onclick="updateResource();">update</button>
<button onclick="loadResource();">load</button>
<button onclick="listResources();">list</button>
<button onclick="deleteResource();">delete</button>
<div id="ResourceMessage"><img src=""></div>
</body>
</html>